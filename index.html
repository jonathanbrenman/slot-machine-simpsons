<!DOCTYPE html>
<html class="border-decoration">
<head>
	<link rel="shortcut icon" type="image/png" href="assets/images/homer_icon.png"/>
	<link rel="stylesheet" type="text/css" href="styles/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="styles/styles.css">
	<title>Simpsons Slot Machine</title>
</head>
<body>
	<script src="libs/jquery.min.js"></script>
	<script src="libs/jquery.easing.min.js"></script>
	<script src="libs/jSlot.min.js"></script>
	<script src="libs/bootstrap.min.js"></script>
	<!-- Load Audio tracks here -->
	<audio id="intro" src="assets/sounds/intro.mp3"></audio>
	<audio id="yuju" src="assets/sounds/yuju.mp3"></audio>
	<audio id="click-btn" src="assets/sounds/click.mp3"></audio>
	<audio id="spinning" src="assets/sounds/spinning.mp3"></audio>
	<!-- Load Audio tracks here -->

	<div id="box" class="text-center">
		<div class="container">
			<div class="col-lg-6 deco-right">
				<img class="homero-right" src="assets/images/cover.png">
			</div>
			<div class="slot-header row">
				<div class="square-box col-xs-3">
					<label>Credits: <span id="credits-show">0</span></label>
				</div>
				<div class="square-box col-xs-3">
					<label>Bet: <span id="bet">50</span></label>
				</div>
				<div class="square-box col-xs-3">
					<label>Win: <span>0</span></label>
				</div>
			</div>
			<div class="slot-body col-lg-12 row">
				<div class="rodillo col-xs-3">
					<div class="viewbox">
						<div class="wrapper" id="slotmachine">
							<ul class="slot">
								<li><img src="assets/images/bonus.png"></li>
								<li><img src="assets/images/Abraham_Simpson.png"></li>
								<li><img src="assets/images/ayudante.png"></li>
								<li><img src="assets/images/bola1.png"></li>
								<li><img src="assets/images/homer1.png"></li>
								<li><img src="assets/images/homero2.png"></li>
								<li><img src="assets/images/lisa1.png"></li>
								<li><img src="assets/images/maggie1.png"></li>
								<li><img src="assets/images/marsh1.png"></li>
								<li><img src="assets/images/milhouse.png"></li>
								<li><img src="assets/images/bart1.png"></li>
								<li><img src="assets/images/murphy.png"></li>
								<li><img src="assets/images/patyselma.png"></li>
								<li><img src="assets/images/milhouse.png"></li>
								<li><img src="assets/images/bart1.png"></li>
								<li><img src="assets/images/homero2.png"></li>
								<li><img src="assets/images/homer1.png"></li>
								<li><img src="assets/images/murphy.png"></li>
								<li><img src="assets/images/lisa1.png"></li>
								<li><img src="assets/images/maggie1.png"></li>
								<li><img src="assets/images/ayudante.png"></li>
								<li><img src="assets/images/marsh1.png"></li>
								<li><img src="assets/images/bola1.png"></li>
								<li><img src="assets/images/Abraham_Simpson.png"></li>
								<li><img src="assets/images/patyselma.png"></li>
								<li><img src="assets/images/maggie1.png"></li>
								<li><img src="assets/images/marsh1.png"></li>
								<li><img src="assets/images/milhouse.png"></li>
								<li><img src="assets/images/bart1.png"></li>
							</ul>
						</div>
					</div>
				</div>
				<div class="rodillo col-xs-3">
					<div class="viewbox">
						<div class="wrapper" id="slotmachine">
							<ul class="slot">
								<li><img src="assets/images/maggie1.png"></li>
								<li><img src="assets/images/lisa1.png"></li>
								<li><img src="assets/images/ayudante.png"></li>
								<li><img src="assets/images/homero2.png"></li>
								<li><img src="assets/images/patyselma.png"></li>
								<li><img src="assets/images/milhouse.png"></li>
								<li><img src="assets/images/bola1.png"></li>
								<li><img src="assets/images/Abraham_Simpson.png"></li>
								<li><img src="assets/images/bart1.png"></li>
								<li><img src="assets/images/homer1.png"></li>
								<li><img src="assets/images/marsh1.png"></li>
								<li><img src="assets/images/murphy.png"></li>
								<li><img src="assets/images/bonus.png"></li>
								<li><img src="assets/images/bonus.png"></li>
								<li><img src="assets/images/Abraham_Simpson.png"></li>
								<li><img src="assets/images/ayudante.png"></li>
								<li><img src="assets/images/bola1.png"></li>
								<li><img src="assets/images/homer1.png"></li>
								<li><img src="assets/images/homero2.png"></li>
								<li><img src="assets/images/lisa1.png"></li>
								<li><img src="assets/images/maggie1.png"></li>
								<li><img src="assets/images/marsh1.png"></li>
								<li><img src="assets/images/milhouse.png"></li>
								<li><img src="assets/images/bart1.png"></li>
								<li><img src="assets/images/murphy.png"></li>
								<li><img src="assets/images/patyselma.png"></li>
							</ul>
						</div>
					</div>
				</div>
				<div class="rodillo col-xs-3">
					<div class="viewbox">
						<div class="wrapper" id="slotmachine">
							<ul class="slot">
								<li><img src="assets/images/patyselma.png"></li>
								<li><img src="assets/images/maggie1.png"></li>
								<li><img src="assets/images/murphy.png"></li>
								<li><img src="assets/images/homero2.png"></li>
								<li><img src="assets/images/lisa1.png"></li>
								<li><img src="assets/images/ayudante.png"></li>
								<li><img src="assets/images/bonus.png"></li>
								<li><img src="assets/images/bonus.png"></li>
								<li><img src="assets/images/Abraham_Simpson.png"></li>
								<li><img src="assets/images/ayudante.png"></li>
								<li><img src="assets/images/bola1.png"></li>
								<li><img src="assets/images/homer1.png"></li>
								<li><img src="assets/images/homero2.png"></li>
								<li><img src="assets/images/lisa1.png"></li>
								<li><img src="assets/images/maggie1.png"></li>
								<li><img src="assets/images/marsh1.png"></li>
								<li><img src="assets/images/milhouse.png"></li>
								<li><img src="assets/images/bart1.png"></li>
								<li><img src="assets/images/murphy.png"></li>
								<li><img src="assets/images/patyselma.png"></li>
								<li><img src="assets/images/marsh1.png"></li>
								<li><img src="assets/images/bola1.png"></li>
								<li><img src="assets/images/milhouse.png"></li>
								<li><img src="assets/images/homer1.png"></li>
								<li><img src="assets/images/bart1.png"></li>
								<li><img src="assets/images/Abraham_Simpson.png"></li>
							</ul>
						</div>
					</div>
				</div>
				<div class="rodillo col-xs-3">
					<div class="viewbox">
						<div class="wrapper" id="slotmachine">
							<ul class="slot">
								<li><img src="assets/images/milhouse.png"></li>
								<li><img src="assets/images/bart1.png"></li>
								<li><img src="assets/images/homero2.png"></li>
								<li><img src="assets/images/homer1.png"></li>
								<li><img src="assets/images/murphy.png"></li>
								<li><img src="assets/images/lisa1.png"></li>
								<li><img src="assets/images/maggie1.png"></li>
								<li><img src="assets/images/ayudante.png"></li>
								<li><img src="assets/images/marsh1.png"></li>
								<li><img src="assets/images/bola1.png"></li>
								<li><img src="assets/images/Abraham_Simpson.png"></li>
								<li><img src="assets/images/patyselma.png"></li>
								<li><img src="assets/images/maggie1.png"></li>
								<li><img src="assets/images/marsh1.png"></li>
								<li><img src="assets/images/milhouse.png"></li>
								<li><img src="assets/images/bart1.png"></li>
								<li><img src="assets/images/murphy.png"></li>
								<li><img src="assets/images/patyselma.png"></li>
								<li><img src="assets/images/marsh1.png"></li>
								<li><img src="assets/images/bola1.png"></li>
								<li><img src="assets/images/milhouse.png"></li>
								<li><img src="assets/images/homer1.png"></li>
								<li><img src="assets/images/bart1.png"></li>
								<li><img src="assets/images/Abraham_Simpson.png"></li>
							</ul>
						</div>
					</div>
				</div>
			</div>
			<div class="slot-footer row">
				<div class="btn btn-slot standart col-xs-3" data-number="1" data-coins="10">
					<label>10 credits</label>
				</div>
				<div class="btn btn-slot standart col-xs-3" data-number="2" data-coins="25">
					<label>25 credits</label>
				</div>
				<div class="btn btn-slot standart selected-button col-xs-3" data-number="3" data-coins="50">
					<label>50 credits</label>
				</div>
				<div id="spin" class="btn btn-slot col-xs-3" disabled>
					<label>Spin</label>
				</div>
				<button id="spinTrigger" hidden></button>
			</div>
		</div>
	</div>
	<div id="insert-credits">
		<input id="credits" type="number" min="0" max="10000" placeholder="Insert credits..." name="insert-credits">
	</div>
	<script type="text/javascript">
		$(document).ready(function() {
		    $("#intro").get(0).play();

		    $('#credits').change(function(){
		    	$('#credits-show').text($('#credits').val());
		    });

		    function validation() {
				var my_credits = parseInt($('#credits-show').text());
				var bets       = parseInt($('#bet').text());
				console.log(my_credits,bets);
				if(my_credits <= 0 || (my_credits - bets) < 0){
					$('#spin').attr('disabled', true);
				}else{
					$('#spin').attr('disabled', false);
				}
		    }

			$('#credits').change(function(){
				validation();
			});

			$('.standart').click(function(event){
				var current = $(event.currentTarget).attr("data-number");
				$("#click-btn").get(0).play();
				$.each($('.standart'),function(index,value){
					var number = $(value).attr("data-number");
					if(number == current){
						$(value).addClass('selected-button');
						$('#bet').text($(value).attr("data-coins"));
					}else{
						$(value).removeClass('selected-button');
					}
				});
			});

			function allowSpinner(){
				$('#spin').attr('disabled', false);
			}
	
		    $('#spin').click(function () {
		    	if(!$('#spin').attr('disabled')){
		    		$('#spinTrigger').click();
		    		$('#spin').attr('disabled', true);
			    	var my_credits = parseInt($('#credits-show').text());
			    	var bets       = parseInt($('#bet').text());
			    	$('#credits-show').text(my_credits - bets);
			    	$('#credits').val(my_credits - bets);		    		
			    	validation();
		    		$("#yuju").get(0).play();
		    		$("#spinning").get(0).play();
		    	}
		    });
		    $('.slot').jSlots({
		        spinner : '#spinTrigger',
    			onEnd : allowSpinner,
		    });

		});
	</script>
</body>
</html>